<main class="dashboard-container">
  <!-- Sidebar navigation -->
  <aside class="sidebar">
      <nav class="sidebar-menu">
          <%= link_to '<i class="bx bx-home-circle"></i> <span>Home</span>'.html_safe, root_path, class: 'menu-item' %>
          <%= link_to '<i class="bx bx-plus-circle"></i> <span>Create Complaint</span>'.html_safe, new_complaint_path, class: 'menu-item' %>
          <%= link_to '<i class="bx bx-list-ul"></i> <span>My Complaints</span>'.html_safe, normal_user_complaints_path, class: 'menu-item active' %>
          <%= link_to '<i class="bx bx-user"></i> <span>My Profile</span>'.html_safe, normal_user_profile_path, class: 'menu-item' %>
          <%= link_to '<i class="bx bx-edit"></i> <span>Edit Profile</span>'.html_safe, edit_normal_user_profile_path, class: 'menu-item' %>
      </nav>
  </aside>

  <!-- Content area -->
  <section class="content-area">
      <h1 class="complaints-heading">Your Complaints</h1>

      <% if @complaints.any? %>
        <table class="complaints-table">
          <thead>
            <tr>
              <th>Type</th>
              <th>Description</th>
              <th>Status</th>
              <th>Created At</th>
              <th>Actions</th>
            </tr>
          </thead>
          <tbody>
            <% @complaints.each do |complaint| %>
              <tr>
                <td><%= complaint.complaint_type.name %></td>
                <td class="complaints-description-cell"><%= complaint.description %></td>
                <td><%= complaint.status %></td>
                <td><%= complaint.created_at.strftime('%Y-%m-%d') %></td>
                <td class="complaints-action-buttons">
                  <%= link_to 'View', complaint_path(complaint), class: "complaints-btn complaints-btn-view" %>
                  <%= link_to 'Edit', edit_complaint_path(complaint), class: "complaints-btn complaints-btn-edit" %>
                </td>
              </tr>
            <% end %>
          </tbody>
        </table>
      <% else %>
        <p class="complaints-no-complaints-message">You have not submitted any complaints yet.</p>
      <% end %>

      <div class="complaints-action-container">
        <%= link_to 'Submit New Complaint', new_complaint_path, class: "complaints-btn complaints-btn-primary" %>
      </div>
    </section>
</main>
